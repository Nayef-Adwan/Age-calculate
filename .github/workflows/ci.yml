name: CI
on:
  push:
    branches:
      - main

jobs:
  flutter_test:
  # This job will run on ubuntu virtual machine
    name: Run flutter test and analyze
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v3
    - uses: actions/setup-java@v2
      with:
         channel: 'stable'
    - run: |
        sudo apt-get update -y
        sudo apt-get install -y ninja-build libgtk-3-dev
    - run: flutter config --enable-linux-desktop
    - run: flutter build linux
